<style>
    .model-select{
        border: 1px solid #DCDCDC;
    }
    .model-select .tab-content{
        border-left: 1px solid #DCDCDC;
        padding-top: 20px;
        padding-bottom: 20px;
    }
    .step-content {
        min-height: 325px;
        padding: 25px 70px 0;
    }
    .step-footer {
        text-align: center;
        margin: 40px 0;
    }
    .step-footer .btn-primary{
        padding: 9px 0;
        width: 140px;
    }
    .step-footer .btn-prev{
        background-color: #FFF;
        color: #666;
        border-color: #666;
        margin-right: 20px;
    }
    .step-footer .btn-prev:hover{
        background-color: #666;
        color: #FFF;
    }
    .step-content .step2 .col-sm-7 {
        display: flex;
        align-items: center;
        padding-left: 0;
        white-space: nowrap;
    }
    .step-content .step2 .form-control{
        margin: 10px .5em;
        min-width: 120px;
    }
    .step-content .label-selected{
        color: #3977AD;
        background-color: #DBDBDB;
        float: left;
        margin: 5px;
        padding: 6px 18px;
        font-size: 16px;
    }
    .step-content .errorMsg{
        position: absolute;
        bottom:-10px;
    }
    .step-content .error-msg-box{
        padding-left: 0;
        line-height:34px;
        margin-top: 10px;
    }
    .step-content .btn-tag{
        padding:0;
    }
    .step-content .info{
        font-size: 12px;
    }
    .step-content .info.col-sm-12{
        padding-left: 0;
    }
    .labels-box{
        min-height: 130px;
        background-color: #F9f9f9;
        border: 1px solid #DCDCDC;
        padding: 6px 15px;
    }
    .labels-common-used{
        min-height: 190px;
        background-color: #f9f9f9;
        border: 1px solid #DCDCDC;
        padding: 6px 15px;
    }
    .labels-common-used span{
        margin: 5px 0;
        text-align: center;
        display: inline-block;
        min-width: 30%;
        font-size: 16px;
        color: #3977AD;
    }
    .website-model .label {
        background-color: rgba(0,0,0,.35);
        padding: 11px 18px;
        position: absolute;
        left: 15px;
        font-weight: normal;
        top: 0;
        font-size: 18px;
        border-radius: 0;
        color: #FFF;
    }
    .website-model .btn-group{
        background-color: #F9F9F9;
        box-shadow: 0 1px 3px 0 rgba(44,62,80,.35);
        padding:0;
        border: 2px solid transparent;
        border-top: none;
    }
    .website-model .btn-group .btn-lg{
        font-size: 16px;
        border-radius: 0;
        margin:0;
    }
    .website-model .active>img{
        border: 2px solid #3977AD;
        border-bottom:none;
        -webkit-box-shadow: 0 5px 14px 0 rgba(44,62,80,.35);
        -moz-box-shadow: 0 5px 14px 0 rgba(44,62,80,.35);
        box-shadow: 0 5px 14px 0 rgba(44,62,80,.35);
    }
    .website-model .active>.btn-group{
        border: 2px solid #3977AD;
        border-top: none;
        -webkit-box-shadow: 0 5px 14px 0 rgba(44,62,80,.35);
        -moz-box-shadow: 0 5px 14px 0 rgba(44,62,80,.35);
        box-shadow: 0 5px 14px 0 rgba(44,62,80,.35);
    }
    .website-model .btn-group .btn-lg.active{
        background-color: #eee;
        color: #3977AD;
        box-shadow: none;
    }
    .website-model img{
        width:100%;
        height:180px;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid #aed2f0;
        border-bottom: none;
    }
    .model-select .nav-tabs{
        border-bottom: none;
        color: black;
        padding-right: 0;
        padding-top: 35px;
    }
    .model-select .nav-tabs>li{
        text-align: center;
        width: 100%;
    }
    .model-select .nav-tabs>li.active>a{
        border: none;
        left: 0;
        background-color: #DCDCDC;
        margin-right: 0;
    }
    .confirm-msg .col-sm-12,.confirm-msg .col-sm-6{
        color: #3977AD;
        font-size: 16px;
        padding: 10px 0;
    }
    .confirm-msg .col-sm-12 span{
        color: #333;
        font-size: 14px;
    }
    .confirm-msg .label-img{
        display: inline-block;
        position: relative;
        vertical-align: text-top;
    }
    .confirm-msg .label-img>img{
        height:180px;
        object-fit: cover;
    }
    .confirm-msg .label-img .label{
        position: absolute;
        padding: 11px 18px;
        left: 0;
        top: 0;
        font-weight: normal;
        border-radius: 0;
        font-size: 18px;
        background-color: rgba(0,0,0,.35);
    }
    .congratulation{
        text-align: left;
        margin-left: 30%;
    }
    .congratulation h4 {
        font-size: 20px;
        margin-bottom: 60px;
    }
    .congratulation img{
        vertical-align: middle;
        margin-right: .5em;
    }
    .congratulation a {
        color: #3977AD;
    }
    .no-padding-left{
        padding-left:0;
    }

    /*新建网站弹窗*/
    .new-website-modal .step2 .col-sm-8{
         display: flex;
         align-items: center;
         padding-left: 0;
    }
    .new-website-modal .form-control{
        margin-bottom: 25px;
    }
    .new-website-modal .step-content .control-label{
        text-align: right;
    }
    .new-website-modal .nav-tabs>li>a{
        color: #333;
        border-radius: 0;
    }
    .new-website-modal .nav-tabs>li.active>a{
        color: #3977AD;
    }
    .new-website-modal .art-model{
        margin: 0 -15px;
    }
</style>
<style>
    @media (max-width: 768px) {
        .step-content{
            padding: 0;
            min-height: unset;
        }
        .website-model img{
            height: 90px;
        }
        .model-select .tab-content{
            padding: 0;
            min-height: 400px;
        }
        .model-select .tab-content > .active .col-xs-6{
            padding: 0 8px;
        }
        .website-model .label{
            font-size: 12px;
        }
        .model-select .nav-tabs{
            padding-top: 15px;
        }
        .model-select .nav-tabs>li[role="presentation"]>a{
            padding: 10px;
        }
        .step-content .step2 .visible-xs .form-control{
            margin: 10px 0;
        }
        .step-content .break-all{
            word-break: break-all;
        }
        .congratulation{
            margin-left: 0;
        }
    }
</style>

<div ng-controller="newWebsiteController">
    <div class="col-md-10 main-content" ng-show="!isModal">
        <div class="panel-heading">
            新建网站
        </div>
        <div class="panel-body">
            <div class="step-content clearfix">
                <div ng-show="step == 1">
                    <h4>选择功能模板：</h4>
                    <div role="tabpanel" class="clearfix model-select">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs col-xs-2" role="tablist">
                            <li role="presentation" ng-repeat="category in categories" ng-class="getActiveStyleClass(category)">
                                <a ng-click="selectCategory(category)" aria-controls="personal-web" role="tab" data-toggle="tab">{{category.name}}</a>
                            </li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content website-model col-xs-10">
                            <div role="tabpanel" class="tab-pane active clearfix" id="personal-web">
                                <div class="col-sm-5 col-xs-6" ng-repeat="template in templates" ng-class="website.templateName == template.name ? 'active' : ''" style="margin-bottom: 20px;">
                                    <img ng-src="{{template.logoUrl}}" ng-click="selectTemplate(template)" alt="">
                                    <div class="col-xs-12 btn-group">
                                        <div class="btn col-sm-6 col-xs-12 btn-lg" ng-disabled="!template.previewUrl" ng-click="template.previewUrl && goPreviewPage(template.previewUrl)">预览</div>
                                        <div class="btn col-sm-6 col-xs-12 btn-lg" ng-click="selectTemplate(template)" ng-class="website.templateName == template.name ? 'active' : ''">选择</div>
                                    </div>
                                    <span class="label">{{template.name}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div ng-show="step == 2" class="step2">
                    <p>设定网站的访问地址</p>
                    <div class="col-sm-7 form-group hidden-xs break-all">
                        http://keepwork.com/{{user.username}}/<input id="websiteName" ng-model="website.name" ng-change="checkWebsiteName()" type="text" class="form-control">
                    </div>
                    <div class="form-group visible-xs">
                        <input id="websiteName1" ng-model="website.name" ng-change="checkWebsiteName()" type="text" class="form-control">
                    </div>
                    <p class="visible-xs break-all">http://keepwork.com/{{user.username}}/{{website.name || "???"}}</p>
                    <div class="col-sm-5 error-msg-box">
                        <p class="text-danger">{{errMsg}}</p>
                    </div>
                    <div class="col-sm-12 info no-padding-left">
                        <p>*可使用小写字母、数字（例如：mysite123）</p>
                        <p>设定后不可修改</p>
                        <p>VIP可在网站设置中设置cname转发</p>
                    </div>
                </div>
                <div ng-show="step == 3" class="confirm-msg">
                    <h4>信息确认：</h4>
                    <div class="col-sm-12">
                        URL：<span class="break-all">{{'/' + user.username + '/' + website.name + '/index'}}</span>
                    </div>
                    <div class="col-sm-6">
                        功能模板：
                        <div class="label-img">
                            <img ng-src="{{template.logoUrl}}" alt="">
                            <div class="label">{{website.templateName}}</div>
                        </div>
                    </div>
                </div>
                <div ng-show="step == 4" class="congratulation">
                    <h4><img ng-src="{{imgsPath+'icon/wiki_success.png'}}" alt="">恭喜你，网站创建成功！ </h4>
                    <p>网站名：<a ng-click="goEditWebsitePage()">前往设置</a></p>
                    <p class="break-all">网址：http://keepwork.com/{{user.username}}/{{website.name}}</p>
                    <p>您还可以在 <a ng-click="goEditWebsitePage()">网站配置</a> 页面设置网站名称、标签</p>
                    <p><a ng-click="goVIP()">开启VIP</a>，额外支持私有权限以及权限管理等特权</p>
                </div>
            </div>
            <div class="step-footer">
                <button ng-show="step > 1 && step < 4" class="btn btn-primary btn-prev" ng-disabled="prevStepDisabled" ng-click="prevStep()">上一步</button>
                <button ng-show="step < 4" class="btn btn-primary" ng-disabled="nextStepDisabled" ng-click="nextStep()">{{step == 3 ? '确认' : '下一步'}}</button>
                <button ng-show="step==4" class="btn btn-prev btn-primary" ng-disabled="nextStepDisabled" ng-click="goEditerPage()">马上编辑</button>
                <button ng-show="step==4" class="btn btn-primary" ng-disabled="nextStepDisabled" ng-click="goEditWebsitePage()">马上配置</button>
            </div>
        </div>
    </div>
    <div class="main-content new-website-modal" ng-show="isModal">
        <div class="modal-header">
            新建网站
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
            <div class="step-content clearfix">
                <div ng-show="step == 1">
                    <h4>选择功能模板：</h4>
                    <div role="tabpanel" class="clearfix model-select">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs col-sm-2" role="tablist">
                            <li role="presentation" ng-repeat="category in categories" ng-class="getActiveStyleClass(category)">
                                <a ng-click="selectCategory(category)" aria-controls="personal-web" role="tab" data-toggle="tab">{{category.name}}</a>
                            </li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content website-model col-sm-10">
                            <div role="tabpanel" class="tab-pane active clearfix" id="personal-web-modal">
                                <div class="col-sm-5" ng-repeat="template in templates" ng-class="website.templateName == template.name ? 'active' : ''" style="margin-bottom: 20px;">
                                    <img ng-src="{{template.logoUrl}}" ng-click="selectTemplate(template)" alt="">
                                    <div class="col-md-12 btn-group">
                                        <div class="btn col-sm-6 btn-lg" ng-disabled="!template.previewUrl" ng-click="template.previewUrl && goPreviewPage(template.previewUrl)">预览</div>
                                        <div class="btn col-sm-6 btn-lg" ng-click="selectTemplate(template)" ng-class="website.templateName == template.name ? 'active' : ''">选择</div>
                                    </div>
                                    <span class="label">{{template.name}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-show="step == 2" class="step2">
                    <p>设定网站的访问地址</p>
                    <div class="col-sm-8 form-group">
                        http://keepwork.com/{{user.username}}/<input id="websiteName_modal" ng-model="website.name" ng-change="checkWebsiteName()" type="text" class="form-control">
                    </div>
                    <div class="col-sm-4 error-msg-box">
                        <p class="text-danger">{{errMsg}}</p>
                    </div>
                    <div class="col-sm-12 info no-padding-left">
                        <p>*可使用小写字母、数字（例如：mysite123）</p>
                        <p>设定后不可修改</p>
                        <p>VIP可在网站设置中设置cname转发</p>
                    </div>
                </div>
                <div ng-show="step == 3" class="confirm-msg">
                    <h4>信息确认：</h4>
                    <div class="col-sm-12">
                        URL：<span>{{'/' + user.username + '/' + website.name + '/index'}}</span>
                    </div>
                    <div class="col-sm-6">
                        功能模板：
                        <div class="label-img">
                            <img ng-src="{{template.logoUrl}}" alt="">
                            <div class="label">{{website.templateName}}</div>
                        </div>
                    </div>
                </div>
                <div ng-show="step == 4" class="congratulation">
                    <h4><img ng-src="{{imgsPath+'icon/wiki_success.png'}}" alt="">恭喜你，网站创建成功！ </h4>
                    <p>网站名：<a ng-click="goEditWebsitePage()">前往设置</a></p>
                    <p>网址：http://keepwork.com/{{user.username}}/{{website.name}}</p>
                    <p>您还可以在 <a ng-click="goEditWebsitePage()">网站配置</a> 页面设置网站名称、标签</p>
                    <p><a ng-click="goVIP()">开启VIP</a>，额外支持私有权限以及权限管理等特权</p>
                </div>
            </div>
            <div class="step-footer">
                <button ng-show="step > 1 && step < 4" class="btn btn-primary btn-prev" ng-disabled="prevStepDisabled" ng-click="prevStep()">上一步</button>
                <button ng-show="step < 4" class="btn btn-primary" ng-disabled="nextStepDisabled" ng-click="nextStep()">{{step == 3 ? '确认' : '下一步'}}</button>
                <button ng-show="step==4" class="btn btn-prev btn-primary" ng-disabled="nextStepDisabled" ng-click="goEditerPage()">马上编辑</button>
                <button ng-show="step==4" class="btn btn-primary" ng-disabled="nextStepDisabled" ng-click="goEditWebsitePage()">马上配置</button>
            </div>
        </div>
    </div>
</div>
