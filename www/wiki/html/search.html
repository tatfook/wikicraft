<style>
    body{
        /*background-color: #F1F1F1;*/
    }
    .works{
        padding-top: 10px;
    }
    .works .text {
        background-color: #FAFAFA;
        padding: 20px;
        box-shadow: 0px 1px 3px 0px rgba(44,62,80,.35);
    }
    .hover-slide:hover .text{
        box-shadow: 0 2px 5px 0 rgba(44,62,80,.35);
    }
    .pagination-box {
        text-align: center;
    }
    h3.title{
        border-bottom: 1px solid #f1f1f1;
        padding-bottom: 16px;
    }
    h4 a.title {
        font-size: 16px;
        color: #333;
        font-weight: bold;
    }
    h4 a.title:focus, h4 a.title:hover {
        color: #3977AD;
        text-decoration: none;
    }
    .works a{
        color: #333;
    }
    .works a:hover{
        color: #3977AD;
    }
    .works img{
        width: 100%;
        height:196.88px;
        object-fit: cover;
        object-position: top;
    }
    .hover-slide:hover {
        transform: translate3d(0, -3px, 0);
        transition: all .2s linear;
    }
    .works .pull-right.info{
        cursor: pointer;
    }

    .search-result{
        padding-top: 40px;
    }
    .search-result .nav-container{
        position: relative;
    }
    .search-result .nav-container > .input-group{
        position: absolute;
        right: 0;
        width: 220px;
        top: 0;
    }
    .search-result .nav-container > .input-group > .form-control {
        border-right: 0;
        box-shadow: none;
        border-left: 0;
    }
    .search-result .nav-container > .input-group > .form-control:focus{
        border-color: #CCC;
    }
    .search-result .nav-container .glyphicon-search{
        top:0;
        background-color: transparent;
        cursor: pointer;
    }
    .search-result .nav-container .dropdown-menu{
        min-width: 95px;
    }
    .search-result .nav-container .dropdown-menu > li > a{
        padding: 5px 12px;
    }
    .search-result .works .col-md-3{
        margin-top: 30px;
    }
    .search-result h4.title{
        color: #666;
        margin-bottom: 0;
    }
    .search-result .nav-tabs{
        padding-left: 40px;
        font-size: 16px;
    }
    .search-result .nav-tabs > li > a{
        color: #999;
        padding: 0 15px 20px;
    }
    .search-result .nav-tabs>li.active>a, .search-result .nav-tabs>li.active>a:hover, .search-result .nav-tabs>li.active>a:focus{
        border: none;
        border-bottom: 2px solid #656565;
        color: #666;
    }

    .search-result .fans-row{
        padding: 40px 85px 20px;
        display: flex;
        align-items: center;
        border-bottom: 1px solid #DCDCDC;
    }
    .search-result .fans-row a.text-muted{
        color: #333;
    }
    .search-result .fans-row a.text-muted:hover{
        color: #3977AD;
    }
    .search-result .fans-row > img{
        width: 60px;
        height: 60px;
        object-fit: cover;
        margin-right: 13px;
    }
    .search-result .fans-row .intro{
        flex: 1;
    }
    .search-result .fans-row .btn{
        font-size: 16px;
        padding: 6px 21px;
    }
    .search-result .fans-row img.icon{
        width: 13px;
    }

    .search-result .content{
        padding: 0 85px;
    }
    .search-result .content p.info, .search-result .content p.info > a{
        font-size: 12px;
        color: #999;
        margin: 8px 0 10px;
    }
    .search-result .content-item{
        border-bottom: 1px solid #DDD;
        padding: 40px 0 20px;
    }
    .search-result .content-item h3, .search-result .content-item p{
        margin: 0;
        padding: 0;
    }
    .search-result .search-result-content > span{
        color: #FE3266;
    }
    .search-result .content-item .tags{
        margin-top: 20px;
    }
    .search-result .tags > span{
        font-size: 14px;
        background-color: #DAF4FF;
        color: #3977AD;
        padding: 4px 16px;
        margin-right: 10px;
        cursor: pointer;
    }

    @media (min-width: 992px) and (max-width: 1200px) {
        .works img{
            height:159.38px;
            object-fit: contain;
        }
    }
    @media (min-width: 768px) and (max-width: 992px) {
        .works img{
            height:165px;
            object-fit: contain;
        }
    }
</style>

<div ng-controller="searchController" class="search-result">
    <div class="container">
        <div class="nav-container">
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" ng-class="{true:'active'}[searchType == 'pageinfo']" ng-click="changeSearch('pageinfo')">
                    <a href="#pageinfo" aria-controls="pageinfo" role="tab" data-toggle="tab" translate="页面"></a>
                </li>
                <li role="presentation" ng-class="{true:'active'}[searchType == 'userinfo']" ng-click="changeSearch('userinfo')">
                    <a href="#userinfo" aria-controls="userinfo" role="tab" data-toggle="tab" translate="用户"></a>
                </li>
                <li role="presentation" ng-class="{true:'active'}[searchType == 'siteinfo']" ng-click="changeSearch('siteinfo')">
                    <a href="#siteinfo" aria-controls="siteinfo" role="tab" data-toggle="tab" translate="站点"></a>
                </li>
            </ul>
            <div class="input-group">
                <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{nowSearchRange || searchRange[0]}} <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                        <li ng-repeat="item in searchRange" ng-click="changeSearchRange(item)"><a>{{item}}</a></li>
                    </ul>
                </div><!-- /btn-group -->
                <input id="searchpage-search" type="text" class="form-control" aria-label="search..." placeholder="{{searchText || ''}}" ng-model="searchText">
                <span class="input-group-addon glyphicon glyphicon-search" ng-click="changeSearch(searchType, searchText)"></span>
            </div>
        </div>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane clearfix" ng-class="{true:'active'}[searchType == 'pageinfo']" id="pageinfo">
                <h4 class="title">共{{totalItems || 0}}条页面：</h4>
                <div class="empty-box" ng-hide="searchList.length > 0">
                    <span class="iconfont icon-sousuo"></span>
                    <p>{{ "抱歉！ ~没有搜索到" | translate }}
                        <span title="{{searchKeyword}}">{{searchKeyword.length > 10 ? (searchKeyword | limitTo: 10) + '...' : searchKeyword}}</span>
                        {{ "相关的页面" | translate }}
                    </p>
                </div>
                <div class="content">
                    <div class="content-item" ng-repeat="item in searchList">
                        <h3><a href="{{item.url}}">{{item.sitename || "站点名"}}——{{item.pagename || "页面名"}}</a></h3>
                        <p class="info"><a href="{{item.url}}">{{item.url}}</a></p>
                        <p class="search-result-content" ng-bind-html="item.highlight_ext"></p>
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane clearfix" ng-class="{true:'active'}[searchType == 'userinfo']" id="userinfo">
                <h4 class="title">共{{totalItems || 0}}名用户：</h4>
                <div class="empty-box" ng-hide="searchList.length > 0">
                    <span class="iconfont icon-sousuo"></span>
                    <p>{{ "抱歉！ ~没有搜索到" | translate }}
                        <span title="{{searchKeyword}}">{{searchKeyword.length > 10 ? (searchKeyword | limitTo: 10) + '...' : searchKeyword}}</span>
                        {{ "相关的用户" | translate }}
                    </p>
                </div>
                <div class="col-md-12 fans-row" ng-repeat="item in searchList">
                    <img ng-src="{{item.portrait || getImageUrl('default_portrait.png',imgsPath)}}" alt="">
                    <div class="intro">
                        <h4><a class="text-muted" ng-href="{{'/'+item.username}}">{{item.username || item.displayName}}</a></h4>
                        <p>{{item.introduce || "暂无简介"}}</p>
                    </div>
                    <div class="btn btn-primary" ng-click="favoriteUser(item)">{{item.concerned?"取消关注":"关 注"}}</div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane works clearfix" ng-class="{true:'active'}[searchType == 'siteinfo']" id="siteinfo">
                <h4 class="title">共{{totalItems || 0}}个站点：</h4>
                <div class="empty-box" ng-hide="searchList.length > 0">
                    <span class="iconfont icon-sousuo"></span>
                    <p>抱歉！ ~没有搜索到 {{searchKeyword.length > 10 ? (searchKeyword | limitTo: 10 + '...') : searchKeyword}} 相关的站点</p>
                </div>
                <div class="content">
                    <div class="content-item" ng-repeat="item in searchList">
                        <h3><a ng-href="{{'/' + item.username + '/' + item.name + '/index'}}">{{item.displayName || item.sitename || site.name}}</a></h3>
                        <p class="info"><a ng-href="{{'/' + item.username + '/' + item.name + '/index'}}">{{"/"+item.username+"/"+item.name+"/index"}}</a></p>
                        <p class="search-result-content" ng-bind-html="item.highlight_ext"></p>
                        <p class="tags"><span ng-repeat="tag in item.tagsArr track by $index" ng-show="tag" ng-click="seachTag(tag)">{{tag}}</span></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="pagination-box" ng-show="searchList.length > 0">
            <ul uib-pagination ng-change="sitePageChanged()" items-per-page='pageSize' previous-text="上一页"
                next-text="下一页" total-items="totalItems" ng-model="currentPage" max-size="5"
                class="pagination-sm" boundary-link-numbers="true"></ul>
        </div>
    </div>
</div>
