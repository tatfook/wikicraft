<style>
    body {
        background-color: #F1F1F1;
    }

    li {
        list-style-type: none;
    }

    /*左侧菜单栏*/

    .subnav {
        text-align: left;
    }

    .subnav>.list-group>.list-group-item {
        padding: 0;
        margin-bottom: 10px;
    }

    .subnav .panel {
        margin-bottom: 0;
        border-radius: 0;
    }

    .subnav .panel-heading {
        border-radius: 0;
        cursor: pointer;
    }

    .subnav .panel-body {
        padding: 0;
    }

    .subnav .list-group {
        margin-bottom: 0;
    }

    .subnav .list-group .list-group-item {
        border: none;
    }

    .subnav .panel-body .list-group-item {
        padding: 10px 15px;
    }

    .subnav .list-group .list-group-item.active {
        background-color: #E0E3E9;
        color: #3977AD;
    }

    .subnav .glyphicon {
        display: none;
    }

    .subnav .list-group .list-group-item.active .glyphicon {
        display: inline-block;
    }

    .subscribe {
        font-size: 12px;
    }

    .main-content {
        border: 1px solid #DEE1E5;
        background-color: #FFF;
        padding: 0;
        min-height: 515px;
    }

    .main-content .panel-heading {
        border-bottom: 2px solid #F1F1F1;
        color: #3977AD;
        font-size: 16px;
    }

    .main-content .tab-content {
        padding-top: 40px;
    }

    .main-content .form-control {
        margin-bottom: 25px;
    }

    .main-content .nav-tabs>li[role="presentation"]>a {
        font-size: 16px;
        color: #333;
    }

    .main-content .nav-tabs>li[role="presentation"]>a>span {
        color: #666;
    }

    .main-content .nav-tabs>li.active>a,
    .main-content .nav-tabs>li.active>a:focus,
    .main-content .nav-tabs>li.active>a:hover {
        left: -1px;
        top: 0px;
        border-top: 0px;
        padding: 11px 15px;
        border-radius: 0px;
        border-bottom: 0px;
        color: #3977AD;
    }

    .img-text {
        display: flex;
        align-items: center;
        background-color: #F9F9F9;
        border: 1px solid #e5e7e9;
        margin-bottom: 20px;
    }

    .img-text .text {
        flex: 1;
    }

    .main-content .img-text img {
        width: 140px;
        height: 140px;
        object-fit: cover;
    }

    .main-content .img-text .text {
        padding: 0 5px 0 15px;
        max-height: 140px;
        overflow: hidden;
    }

    .main-content .img-text .col-md-12,
    .tab-content .img-text .col-md-4 {
        padding: 0;
        line-height: 32px;
    }

    .main-content .img-text p {
        margin-bottom: 0;
        line-height: 32px;
    }

    .pagination-box {
        text-align: center;
        position: relative;
    }

    .file-pagination-box {
        text-align: center;
        position: relative;
    }

    .tab-content p.info {
        font-size: 12px;
        color: #999;
        ;
    }

    .subnav .panel-body {
        margin-top: 0;
    }

    .admin-main-panel {
        background-color: #FFF;
    }

    .templates-panel {
        margin: 0 -15px;
    }

    .templates-panel .panel-heading {
        border-bottom: 1px solid #DCDCDC;
        font-size: 16px;
        color: #3977AD;
    }

    .oauth-table-head {
        text-align: center;
        table-layout: fixed;
    }

    .oauth-table-head {
        word-break: break-word;
    }

    .oauth-table-head tr td:nth-child(1) {
        width: 116px;
    }

    .oauth-table-head tr td:nth-child(2) {
        width: 90px;
    }

    .oauth-table-head tr td:nth-child(3) {
        width: 96px;
    }

    .oauth-table-head tr td:nth-child(4) {
        width: 305px;
    }

    .oauth-table-head tr td:nth-child(5) {
        width: 90px;
    }

    .oauth-table-head tr td:nth-child(6) {
        width: 148px;
    }

    .oauth-table-head tr td:nth-child(7) {
        width: 117px;
    }

    .oauth-table-head tr td:nth-child(8) {
        width: 141px;
    }

    .oauth-button {
        margin: 10px 0;
    }

    .oauth-add {
        padding: 30px;
    }

    .oauth-a {
        position: relative;
        top: 5px;
    }

    .oauth-skip {
        position: relative;
        left: -166px;
        top: -6px;
    }

    .oauth-skip2 {
        position: relative;
        top: 1px;
    }

    .form-control {
        width: 78%;
    }

    .oauth-label {
        position: relative;
        left: -133px
    }

    .oauth-pre {
        display: inline-block;
        width: 12%;
        height: 30px;
        margin-bottom: 20px;
        padding-top: 5px;
        overflow: hidden;
    }

    .goods {
        text-align: center;
    }

    .delGoodsMan {
        margin-bottom: 10px;
    }

    .totalFiles {
        position: absolute;
        left: 10px;
        top: 20px;
    }

    .totalUsers {
        position: absolute;
        left: 10px;
        top: 20px;
    }

    .table tbody tr td {
        vertical-align: middle;
    }

    .datetime {
        width: 50%;
    }

    @media(max-width: 768px) {
        .subnav .list-group-item:first-child .list-group-item {
            padding: 10px 5px;
            float: left;
            width: 25%;
        }
        .subnav .list-group .list-group-item.active .glyphicon {
            display: none;
        }
        .main-content {
            /*min-height: auto;*/
        }
    }
</style>

<div ng-controller="indexController" class="container-fluid" style="padding-top:30px">
    <div class="row">
        <!--菜单栏-->
        <div class="col-sm-2 subnav">
            <ul class="list-group">
                <li class="list-group-item">
                    <div class="panel-heading">
                        <div>
                            <div class="panel-heading">
                                <strong>后台管理</strong>
                            </div>
                        </div>
                        <ul>
                            <li>
                                <div ng-class='getStyleClass("manager")'>
                                    <div class="panel-heading" ng-click='getManagerList()'>管理员</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("operationLog")'>
                                    <div class="panel-heading" ng-click='getoperationLogList()'>操作日志</div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="panel-heading">
                        <div>
                            <div class="panel-heading">
                                <strong>KeepWork管理</strong>
                            </div>
                        </div>
                        <ul>
                            <li>
                                <div ng-class='getStyleClass("user")'>
                                    <div class="panel-heading" ng-click='getUserList()'>用户</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("oauth")'>
                                    <div class="panel-heading" ng-click='getOauthList()'>Oauth 管理</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("goodsManager")'>
                                    <div class="panel-heading" ng-click='getGoodmnagerList()'>商品管理</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("site")'>
                                    <div class="panel-heading" ng-click='getSiteList()'>网站</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("domain")'>
                                    <div class="panel-heading" ng-click='getDomainList()'>域名</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("fileCheck")'>
                                    <div class="panel-heading" ng-click='get_file_list()'>文件审核</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("vip")'>
                                    <div class="panel-heading" ng-click='getVIPList()'>VIP</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("templates")'>
                                    <div class="panel-heading" ng-click='getTemplates()'>模板管理</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("sensitiveWords")'>
                                    <div class="panel-heading" ng-click='getSensitiveWords()'>敏感词管理</div>
                                </div>
                            </li>
                            <!-- <li>
                                <div ng-class='getStyleClass("lessons")'>
                                    <div class="panel-heading" ng-click='getInvitationCodes()'>Lessons邀请码管理</div>
                                </div>
                            </li> -->
                        </ul>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="panel-heading">
                        <div>
                            <div class="panel-heading">
                                <strong>数据统计</strong>
                            </div>
                        </div>
                        <ul>
                            <li>
                                <div ng-class='getStyleClass("onlineCount")'>
                                    <div class="panel-heading" ng-click='clickMenuItem("onlineCount")'>在线统计</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("retention")'>
                                    <div class="panel-heading" ng-click='clickMenuItem("retention")'>留存分析</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("newAccount")'>
                                    <div class="panel-heading" ng-click='clickMenuItem("newAccount")'>新用户分析</div>
                                </div>
                            </li>
                            <li>
                                <div ng-class='getStyleClass("pay")'>
                                    <div class="panel-heading" ng-click='clickMenuItem("pay")'>支付情况</div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="panel" ng-class='getStyleClass("ServerMonitor")'>
                        <div class="panel-heading" ng-click='clickServerMenuItem("ServerMonitor")'>
                            <strong>服务器监控</strong>
                        </div>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="panel" ng-class='getStyleClass("wikicmd")'>
                        <div class="panel-heading" ng-click='clickCmd()'>
                            <strong>wikicmd</strong>
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <!--内容页-->
        <div class="col-sm-10 admin-main-panel">
            <!--管理员-->
            <div ng-show='selectMenuItem=="manager"'>
                <div style="margin: 10px;">
                    <form role="form" class="form-inline">
                        <div class="form-group">
                            <label>管理员ID:</label>
                            <input ng-model="managerSearchById" type="number" class="form-control" placeholder="请输入用户ID">
                        </div>
                        <div class="form-group">
                            <label>管理员用户名:</label>
                            <input ng-model="managerSearchByUsername" type="text" class="form-control" placeholder="请输入用户名">
                        </div>
                        <button class="btn btn-default" ng-click="managerSearch()">查询</button>
                        <button class="btn btn-default pull-right" ng-click="newManager()">新建管理员账号</button>
                    </form>
                </div>
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>用户名</th>
                            <th>显示名</th>
                            <th>邮箱</th>
                            <th>手机</th>
                            <th>权限等级</th>
                            <th>状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="x in managerList" ng-hide="x.isDelete">
                            <td>{{x._id}}</td>
                            <td>{{x.username}}</td>
                            <td>{{x.displayName}}</td>
                            <td>{{x.email}}</td>
                            <td>{{x.cellphone}}</td>
                            <td>{{x.roleId}}</td>
                            <td>{{x.state == -1 ? "异常" : "正常"}}</td>
                            <td>
                                <button class="btn btn-default" ng-click="clickEnableUser(x)">{{x.roleId == -1 ? "启用" : "禁用"}}</button>
                                <button class="btn btn-default" ng-click="clickDeleteUser(x)">删除</button>
                                <button class="btn btn-default" ng-click="clickDeleteUser(x)">编辑权限</button>
                                <button class="btn btn-default" ng-click="clickDeleteUser(x)">修改密码</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="pagination-box">
                    <ul uib-pagination ng-change="getManagerList()" items-per-page='pageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="totalItems" ng-model="managerCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>

            <!--管理员操作日志-->
            <div ng-show='selectMenuItem=="operationLog"'>
                管理员操作日志
            </div>

            <!-- Oauth 管理 -->
            <div ng-show='selectMenuItem=="oauth"'>
                <button type="button" class="btn btn-primary oauth-button" data-toggle="modal" data-target=".oauth" ng-click="clickOauthToggle(1)">添加Oauth账号</button>
                <table class="table table-bordered oauth-table-head">
                    <tr>
                        <td>
                            <strong>app名称</strong>
                        </td>
                        <td>
                            <strong>公司名</strong>
                        </td>
                        <td>
                            <strong>Clientld</strong>
                        </td>
                        <td>
                            <strong>ClientSecret</strong>
                        </td>
                        <td>
                            <strong>跳过授权</strong>
                        </td>
                        <td>
                            <strong>PayCallbackUrl</strong>
                        </td>
                        <td>
                            <strong>RedirectUrl</strong>
                        </td>
                        <td>
                            <strong>操作</strong>
                        </td>
                    </tr>
                    <tr ng-repeat="item in oauthData">
                        <td>{{item.appName}}</td>
                        <td>{{item.company}}</td>
                        <td>{{item.clientId}}</td>
                        <td>{{item.clientSecret}}</td>
                        <td>{{item.skipUserGrant==1?"是":"否"}}</td>
                        <td>{{item.payCallbackUrl}}</td>
                        <td>{{item.redirectUrl}}</td>
                        <td>
                            <button type="button" class="btn btn-default" data-toggle="modal" data-target=".oauth" ng-click="clickOauthToggle(2, item)">修改</button>&nbsp;
                            <button class="btn btn-default" type="submit" ng-click="deleteOauthRecord(item.clientId)">删除</button>
                        </td>
                    </tr>
                </table>
                <div class="modal oauth" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
                    <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title" ng-if="oauthVar == 1">添加Oauth账号</h4>
                                <h4 class="modal-title" ng-if="oauthVar == 2">修改Oauth账号</h4>
                            </div>
                            <div class="modal-content">
                                <form class="form-horizontal oauth-add">
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">app名称</label>
                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" ng-model="oauthParams.appName" ng-if="oauthVar == 1" placeholder="" />
                                            <input type="text" class="form-control" ng-model="oauthParams.appName" ng-if="oauthVar == 2" placeholder="" disabled="disabled"
                                            />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">公司名</label>
                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" placeholder="" ng-if="oauthVar == 1" ng-model="oauthParams.company">
                                            <input type="text" class="form-control" placeholder="" ng-if="oauthVar == 2" ng-model="oauthParams.company" disabled="disabled">
                                        </div>
                                    </div>
                                    <div class="form-group" ng-if="oauthVar == 2">
                                        <label class="col-sm-2 control-label">Clientld</label>
                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" placeholder="" ng-model="oauthParams.clientId" disabled="disabled">
                                        </div>
                                    </div>
                                    <div class="form-group oauth-group">
                                        <label class="col-sm-2 control-label">ClientSecret</label>
                                        <div class="col-sm-10">
                                            <input type="text" class="form-control pull-left" placeholder="" ng-model="oauthParams.clientSecret">
                                            <a class="oauth-a" ng-click="selectOAuthValue()">随机生成</a>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-sm-offset-2 col-sm-10">
                                            <div class="checkbox oauth-skip2">
                                                <label class="col-sm-2 control-label oauth-skip">
                                                    <strong>是否跳过授权</strong>
                                                </label>
                                                <label class="oauth-label">
                                                    <input name="oauth" type="radio" ng-model="oauthParams.skipUserGrant" ng-value=1> 是
                                                </label>
                                                <label class="oauth-label">
                                                    <input name="oauth" type="radio" ng-model="oauthParams.skipUserGrant" ng-value=0> 否
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">PayCallbackUrl</label>
                                        <div class="col-sm-10">
                                            <input type="test" class="form-control" placeholder="" ng-model="oauthParams.payCallbackUrl" ng-value="oauthValue">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">RedirectUrl</label>
                                        <div class="col-sm-10">
                                            <input type="test" class="form-control" placeholder="" ng-model="oauthParams.redirectUrl" ng-value="oauthValue">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-offset-2 col-sm-10">
                                            <button type="submit" class="btn btn-default" ng-if="oauthVar == 1" ng-click="oauthAdd()">添加</button>
                                            <button type="submit" class="btn btn-default" ng-if="oauthVar == 2" ng-click="oauthModify()">修改</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <pre class="oauth-pre">Page: {{OAuthCurrentPage}} / {{OAuthNumPages}}</pre>
                <ul uib-pagination class="pagination-sm" boundary-link-numbers="true" first-text="首页" last-text="尾页" next-text="{{ '下一页' | translate }}"
                    previous-text="{{ '上一页' | translate }}" items-per-page="OAuthItemPrePage" total-items="OAuthTotalItems" ng-model="OAuthCurrentPage"
                    max-size="OAuthMaxSize" boundary-links="true" ng-change="oauthList()" num-pages="OAuthNumPages"></ul>
            </div>

            <!--商品管理-->
            <div ng-show='selectMenuItem=="goodsManager"'>
                <button type="button" class="btn btn-primary oauth-button" data-toggle="modal" data-target=".additionalField" ng-click="clickGoodsToggle(2)">添加商品信息</button>
                <table class="table table-bordered goods">
                    <tr>
                        <td>
                            <strong>商品名称</strong>
                        </td>
                        <td>
                            <strong>第三方商品ID</strong>
                        </td>
                        <td>
                            <strong>商品ID</strong>
                        </td>
                        <td>
                            <strong>商品详情</strong>
                        </td>
                        <td>
                            <strong>价格</strong>
                        </td>
                        <td>
                            <strong>汇率</strong>
                        </td>
                        <td>
                            <strong>默认购买数量</strong>
                        </td>
                        <td>
                            <strong>最少购买数量</strong>
                        </td>
                        <td>
                            <strong>最大购买数量</strong>
                        </td>
                        <td>
                            <strong>第三方oauth账号</strong>
                        </td>
                        <td>
                            <strong>销售状态</strong>
                        </td>
                        <td>
                            <strong>additional_field</strong>
                        </td>
                        <td>
                            <strong>操作</strong>
                        </td>
                        <td>
                            <strong>修改时间</strong>
                        </td>
                    </tr>
                    <tr ng-repeat="item in goodsData">
                        <td>{{item.subject}}</td>
                        <td>{{item.app_goods_id}}</td>
                        <td>{{item._id}}</td>
                        <td>{{item.body}}</td>
                        <td>{{item.price}}</td>
                        <td>{{item.exchange_rate}}</td>
                        <td>{{item.default_buy_count}}</td>
                        <td>{{item.min_buy_count}}</td>
                        <td>{{item.max_buy_count}}</td>
                        <td>{{item.app_name}}</td>
                        <td>{{item.is_on_sale==1?"是":"否"}}</td>
                        <td>
                            <button class="btn btn-default" type="button" ng-click="additionalfieldSee(item)">查看详情</button>
                        </td>
                        <td>
                            <button type="button" class="btn btn-default" data-toggle="modal" data-target=".additionalField" ng-click="clickGoodsToggle(3, item)">修改</button>&nbsp;
                            <button class="btn btn-default" type="submit" ng-click="deleteGoodsRecord(item.goods_id)">删除</button>
                        </td>
                        <td>{{item.create_date}}</td>
                    </tr>
                </table>
                <!-- additional_field -->
                <div class="modal additionalField" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel" ng-if="goodsVar == 1">additional_field</h4>
                                <h4 class="modal-title" id="myModalLabel" ng-if="goodsVar == 2">添加商品信息</h4>
                                <h4 class="modal-title" id="myModalLabel" ng-if="goodsVar == 3">修改商品信息</h4>
                            </div>
                            <div class="modal-body">
                                <!-- A表单 -->
                                <form class="form-horizontal">
                                    <!-- 添加商品 -->
                                    <div ng-if="goodsVar == 2">
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">subject/商品名称</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.subject" placeholder="可输入中文/英文/数字或混合输入">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">商品详情</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.body" placeholder="无限制">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">默认购买数量</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.default_buy_count" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">最少购买数量</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.min_buy_count" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">最大购买数量</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.max_buy_count" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">汇率</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.exchange_rate" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">price/价格</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.price" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">app_name</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.app_name" placeholder="可输入中文/英文/数字或混合输入">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">app_goods_id</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.app_goods_id" placeholder="仅可输入数字">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-offset-2 col-sm-10">
                                                <label class="col-sm-2 control-label">is_on_sale</label>
                                                <div class="checkbox">
                                                    <label>
                                                        <input name="goods_is_on_sale" type="radio" ng-model="goodsParams.is_on_sale" ng-value=1> 是
                                                    </label>
                                                    <label>
                                                        <input name="goods_is_on_sale" type="radio" ng-model="goodsParams.is_on_sale" ng-value=0> 否
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div ng-repeat="x in goodsMan">
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">name</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" ng-model="x.name" id="inputEmail3" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">displayName</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.displayName" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">desc</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.desc" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-offset-2 col-sm-10">
                                                    <label for="inputEmail3" class="col-sm-2 control-label">required</label>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="radio" id="changeName" ng-model="x.required" ng-value=1> 是
                                                        </label>
                                                        <label>
                                                            <input type="radio" id="changeName" ng-model="x.required" ng-value=0> 否
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button class="btn btn-default delGoodsMan" type="submit" ng-click="deleteGoodsMan($index)">删除</button>
                                            </div>
                                        </div>
                                        <button class="btn btn-default" type="submit" ng-click="addGoodsAccount()">添加多个信息</button>
                                    </div>
                                    <!-- 修改商品信息 -->
                                    <div ng-if="goodsVar == 3">
                                        <div class="form-group">
                                            <label for="inputEmail3" class="col-sm-2 control-label">subject/商品名称</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="goodsParams.subject" placeholder="可输入中文/英文/数字或混合输入">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="inputEmail3" class="col-sm-2 control-label">商品详情</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="goodsParams.body" placeholder="无限制">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="inputEmail3" class="col-sm-2 control-label">默认购买数量</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="goodsParams.default_buy_count" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">最少购买数量</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.min_buy_count" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">最大购买数量</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.max_buy_count" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="inputEmail3" class="col-sm-2 control-label">price/价格</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="goodsParams.price" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">汇率</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" ng-model="goodsParams.exchange_rate" placeholder="非零正整数">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="inputEmail3" class="col-sm-2 control-label">app_name</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="goodsParams.app_name" placeholder="可输入中文/英文/数字或混合输入">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="inputEmail3" class="col-sm-2 control-label">app_goods_id</label>
                                            <div class="col-sm-10">
                                                <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="goodsParams.app_goods_id" placeholder="仅可输入数字">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-offset-2 col-sm-10">
                                                <label for="inputEmail3" class="col-sm-2 control-label">is_on_sale</label>
                                                <div class="checkbox">
                                                    <label>
                                                        <input name="goods_is_on_sale" type="radio" ng-model="goodsParams.is_on_sale" ng-value=1> 是
                                                    </label>
                                                    <label>
                                                        <input name="goods_is_on_sale" type="radio" ng-model="goodsParams.is_on_sale" ng-value=0> 否
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div ng-repeat="x in goodsParams.additional_field">
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">name</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.name" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">displayName</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.displayName" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">desc</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.desc" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-offset-2 col-sm-10">
                                                    <label for="inputEmail3" class="col-sm-2 control-label">required</label>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="radio" id="changeName" ng-model="x.required" ng-value=1> 是
                                                        </label>
                                                        <label>
                                                            <input type="radio" id="changeName" ng-model="x.required" ng-value=0> 否
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button class="btn btn-default delGoodsMan" type="submit" ng-click="deleteGoodsParamsAdditionalField($index)">删除</button>
                                            </div>
                                        </div>
                                        <div ng-repeat="x in goodsMan">
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">name</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" ng-model="x.name" id="inputEmail3" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">displayName</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.displayName" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputEmail3" class="col-sm-2 control-label">desc</label>
                                                <div class="col-sm-10">
                                                    <input type="test" class="form-control goods-control" id="inputEmail3" ng-model="x.desc" placeholder="暂无限制，未知所需">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-offset-2 col-sm-10">
                                                    <label for="inputEmail3" class="col-sm-2 control-label">required</label>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="radio" id="changeName" ng-model="x.required" ng-value=1> 是
                                                        </label>
                                                        <label>
                                                            <input type="radio" id="changeName" ng-model="x.required" ng-value=0> 否
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button class="btn btn-default delGoodsMan" type="submit" ng-click="deleteGoodsMans($index)">删除</button>
                                            </div>
                                        </div>
                                        <button class="btn btn-default" type="submit" ng-click="modifyGoodsAccount()">添加额外字段</button>
                                        <div id="accounttGoods"></div>
                                    </div>
                                    <div class="modal-footer" ng-if="goodsVar == 2">
                                        <button type="submit" class="btn btn-default" ng-click="goodsAdd()">添加</button>
                                    </div>
                                    <div class="modal-footer" ng-if="goodsVar == 3">
                                        <button type="submit" class="btn btn-default" ng-click="goodsModify()">修改</button>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
                <pre class="oauth-pre">Page: {{GoodsCurrentPage}} / {{GoosNumPages}}</pre>
                <ul uib-pagination class="pagination-sm" boundary-link-numbers="true" first-text="首页" last-text="尾页" next-text="{{ '下一页' | translate }}"
                    previous-text="{{ '上一页' | translate }}" items-per-page="GoodsItemPrePage" total-items="GoodsTotalItems" ng-model="GoodsCurrentPage"
                    max-size="GoodsMaxSize" boundary-links="true" ng-change="getGoods()" num-pages="GoosNumPages"></ul>
            </div>

            <!--用户管理-->
            <div ng-show='selectMenuItem=="user"'>
                <div style="margin: 10px;">
                    <form role="form" class="form-inline">
                        <div class="form-group">
                            <label>
                                用户ID:
                            </label>
                            <input ng-model="userSearchById" type="number" class="form-control" placeholder="请输入用户ID">
                        </div>
                        <div class="form-group">
                            <label>
                                用户名:
                            </label>
                            <input type="text" ng-model="userSearchByUsername" placeholder="请输入用户名" uib-typeahead="user for user in getUsername($viewValue)"
                                class="form-control">
                        </div>
                        <button class="btn btn-default" ng-click="userSearch()">查询</button>
                    </form>
                </div>


                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>用户名</th>
                            <th>显示名</th>
                            <th>注册时间</th>
                            <!-- <th>网站数</th>
                            <th>粉丝数</th> -->
                            <th>权限等级</th>
                            <th>封禁期限</th>
                            <th>操作</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr ng-repeat="user in userList" ng-hide="user.isDelete">
                            <td>{{user._id}}</td>
                            <td>
                                <a href={{linkToUserPage(user)}} target="_blank">{{user.username}}</a>
                            </td>
                            <td>{{user.displayName}}</td>
                            <td>{{user.joindate}}</td>
                            <!-- <td>{{user.websiteCount}}</td>
                                <td>{{user.fansCount}}</td> -->
                            <td>{{user.roleId}}</td>
                            <td class="col-sm-1">
                                <pre>{{isUserLocked(user) ? user.locked_deadline : "未被封禁"}}</pre>
                            </td>
                            <td>
                                <button class="btn btn-default" ng-click="clickLockUser(user)">封禁</button>
                                <button class="btn btn-default" ng-click="clickUnLockUser(user)" ng-disabled="!isUserLocked(user)">解封</button>
                            </td>
                        </tr>
                    </tbody>
                </table>


                <div class="pagination-box">
                    <div class="totalUsers">
                        <span>共 {{userTotalItems}} 个用户</span>
                    </div>
                    <ul uib-pagination ng-change="getUserList()" items-per-page='userPageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="userTotalItems" ng-model="userCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>


            <div class="modal lock_user" id="lock_user" tabindex="-1" role="dialog" aria-hidden="true" keyboard="true">
                <div class="modal-dialog">
                    <div class="modal-content" style="width:200%;margin-top:30%;margin-left:-50%;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                            <h4 class="modal-title">封禁用户 {{user_to_lock.username}}</h4>
                        </div>
                        <div class="modal-body">
                            <p class="form-group">
                                <div class="datetime">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="sizing-addon1">封禁至</span>
                                        <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="locked_deadline" ng-value="locked_deadline"
                                        />
                                    </div>
                                    <br>
                                    <div class="input-group">
                                        <span class="input-group-addon" id="sizing-addon1"> 操作</span>
                                        <button class="btn btn-default" ng-click="resetDuration()">now</button>
                                        <button class="btn btn-default" ng-click="addLockDuration(0,0,1)">加一天</button>
                                        <button class="btn btn-default" ng-click="addLockDuration(0,0,3)">加三天</button>
                                        <button class="btn btn-default" ng-click="addLockDuration(0,0,7)">加一周</button>
                                        <button class="btn btn-default" ng-click="addLockDuration(0,1,0)">加一个月</button>
                                        <button class="btn btn-default" ng-click="addLockDuration(1,0,0)">加一年</button>
                                        <button class="btn btn-danger" ng-click="addLockDuration(100,0,0)">永久</button>
                                    </div>
                                </div>
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-danger" data-dismiss="modal" ng-click="lockUser(user_to_lock)">确定</button>
                            <button class="btn btn-primary" data-dismiss="modal" ng-disabled="!isUserLocked(user_to_lock)" ng-click="unlockUser(user_to_lock)">解封</button>
                            <button class="btn btn-primary" data-dismiss="modal">关闭</button>
                        </div>
                    </div>
                </div>
            </div>


            <!--网站管理-->
            <div ng-show='selectMenuItem=="site"'>
                <div style="margin: 10px;">
                    <form role="form" class="form-inline">
                        <div class="form-group">
                            <label>
                                ID:
                            </label>
                            <input ng-model="siteSearchById" type="number" class="form-control" placeholder="请输入网站ID">
                        </div>
                        <div class="form-group">
                            <label>
                                用户名:
                            </label>
                            <input ng-model="siteSearchByUsername" type="text" class="form-control" placeholder="请输入用户名">
                        </div>
                        <div class="form-group">
                            <label>
                                站点名:
                            </label>
                            <input ng-model="siteSearchBySitename" type="text" class="form-control" placeholder="请输入网站名">
                        </div>
                        <button class="btn btn-default" ng-click="siteSearch()">查询</button>
                    </form>
                </div>
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>站点ID</th>
                            <th>站点名</th>
                            <th>显示名</th>
                            <th>用户名</th>
                            <th>网站类别</th>
                            <th>访问次数</th>
                            <th>状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="x in siteList" ng-hide="x.isDelete">
                            <td>{{x._id}}</td>
                            <td>{{x.name}}</td>
                            <td>{{x.displayName}}</td>
                            <td>{{x.username}}</td>
                            <td>{{x.categoryName}}</td>
                            <td>{{x.visitCount}}</td>
                            <td>{{x.state == -1 ? "异常" : "正常"}}</td>
                            <td>
                                <button class="btn btn-default" ng-click="clickEnableSite(x)">{{x.state == -1 ? "启用" : "禁用"}}</button>
                                <button class="btn btn-default" ng-click="clickDeleteSite(x)">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="pagination-box">
                    <ul uib-pagination ng-change="getSiteList()" items-per-page='sitePageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="siteTotalItems" ng-model="siteCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>

            <!--域名管理-->
            <div ng-show='selectMenuItem=="domain"'>
                <div style="margin: 10px;">
                    <form role="form" class="form-inline">
                        <div class="form-group">
                            <label>
                                域名ID:
                            </label>
                            <input ng-model="domainSearchById" type="text" class="form-control" placeholder="请输入域名ID">
                        </div>
                        <div class="form-group">
                            <label>
                                用户名:
                            </label>
                            <input ng-model="domainSearchByUsername" type="text" class="form-control" placeholder="请输入用户名">
                        </div>
                        <button class="btn btn-default" ng-click="domainSearch()">查询</button>
                    </form>
                </div>

                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>用户名</th>
                            <th>域名名</th>
                            <th>站点名</th>
                            <th>开始时间</th>
                            <th>到期时间</th>
                            <th>状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="x in domainList" ng-hide="x.isDelete">
                            <td>{{x._id}}</td>
                            <td>{{x.username}}</td>
                            <td>{{x.domain}}</td>
                            <td>{{x.sitename}}</td>
                            <td>{{x.startAt}}</td>
                            <td>{{x.endAt}}</td>
                            <td>{{x.state == -1 ? "异常" : "正常"}}</td>
                            <td>
                                <button class="btn btn-default" ng-click="clickEnableUser(x)">{{x.roleId == -1 ? "启用" : "禁用"}}</button>
                                <button class="btn btn-default" ng-click="clickDeleteUser(x)">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="pagination-box">
                    <ul uib-pagination ng-change="getDomainList()" items-per-page='domainPageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="domainTotalItems" ng-model="domainCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>

            </div>

            <!--文件审核-->
            <div ng-show='selectMenuItem=="fileCheck"'>
                <div style="margin: 10px;">
                    <form role="form" class="form-inline">
                        <div class="dropdown">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                {{files_checking}}
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li ng-repeat="type in file_types" ng-click="change_file_type(type)">
                                    <a>{{type}}</a>
                                </li>
                            </ul>
                        </div>
                    </form>
                </div>

                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>文件名</th>
                            <th>上传用户ID</th>
                            <th>文件大小</th>
                            <th>上传日期</th>
                            <th>播放/查看</th>
                            <th>下载</th>
                            <th>审核状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="file in file_list" ng-hide="file.deleted">
                            <td>{{file.id}}</td>
                            <td title="{{file.filename}}">{{file_name_filter(file.filename)}}</td>
                            <td>{{file.userId}}</td>
                            <td>{{size_transfer(file.size)}}</td>
                            <td>{{file.updatedAt}}</td>
                            <td>
                                <span class="glyphicon glyphicon-play" aria-hidden="true" ng-click="playVideo(file)" ng-show="abledToPlay(file)"></span>
                            </td>
                            <td>
                                <span class="glyphicon glyphicon-download-alt" aria-hidden="true" ng-click="downloadFile(file)"></span>
                            </td>
                            <td>
                                <div ng-if="file.checked==0">未审核</div>
                                <div ng-if="file.checked==1">审核通过</div>
                                <div ng-if="file.checked==2">审核不通过</div>
                            </td>
                            <td>
                                <button class="btn btn-default" ng-click="check_file(file, 1)" ng-disabled="file.checked==1">通过</button>
                                <button class="btn btn-default" ng-click="check_file(file, 2)" ng-disabled="file.checked==2">不通过</button>
                                <button class="btn btn-default" ng-click="clickDeleteFile(file)">删除文件</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="file-pagination-box">
                    <div class="totalFiles">
                        <span>共 {{fileTotalItems}} 个文件</span>
                    </div>
                    <ul uib-pagination ng-change="get_file_list()" items-per-page='filePageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="fileTotalItems" ng-model="fileCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>



            <div class="modal video-modal" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="videoModal" aria-hidden="true"
                keyboard="true">
                <div class="modal-dialog">
                    <div class="modal-content" style="width:200%;margin-top:30%;margin-left:-50%;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" ng-click="stop()">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                            <h4 class="modal-title">文件审核</h4>
                        </div>
                        <div class="modal-body">
                            <div class="modal-video-body">
                                <div class="embed-responsive embed-responsive-16by9">
                                    <div ng-bind-html="iframe_html"></div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="check_file_and_stop(file_playing, 1)">通过</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="check_file_and_stop(file_playing, 2)">不通过</button>
                            <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="stop()">关闭</button>
                        </div>
                    </div>
                </div>
            </div>


            <!--VIP管理-->
            <div ng-show='selectMenuItem=="vip"'>
                <div style="margin: 10px;">
                    <form role="form" class="form-inline">
                        <div class="form-group">
                            <label>
                                会员ID:
                            </label>
                            <input ng-model="vipSearchById" type="number" class="form-control" placeholder="请输入域名ID">
                        </div>
                        <div class="form-group">
                            <label>
                                用户名:
                            </label>
                            <input ng-model="vipSearchByUsername" type="text" class="form-control" placeholder="请输入用户名">
                        </div>
                        <button class="btn btn-default" ng-click="vipSearch()">查询</button>
                    </form>
                </div>

                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>用户名</th>
                            <th>VIP等级</th>
                            <th>开始时间</th>
                            <th>到期时间</th>
                            <th>状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="x in VIPList" ng-hide="x.isDelete">
                            <td>{{x._id}}</td>
                            <td>{{x.username}}</td>
                            <td>{{x.vipLevel}}</td>
                            <td>{{x.startDate}}</td>
                            <td>{{x.endDate}}</td>
                            <td>{{x.state == -1 ? "异常" : "正常"}}</td>
                            <td>
                                <button class="btn btn-default" ng-click="clickEnableUser(x)">{{x.roleId == -1 ? "启用" : "禁用"}}</button>
                                <button class="btn btn-default" ng-click="clickDeleteUser(x)">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="pagination-box">
                    <ul uib-pagination ng-change="getVIPList()" items-per-page='VIPPageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="VIPTotalItems" ng-model="VIPCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>

            <!--模板管理-->
            <div ng-show="selectMenuItem == 'templates'" class="panel templates-panel">
                <div class="panel-heading">
                    <span ng-click="showTemplates('website')">网站模板</span>
                    <span ng-click="showTemplates('page')">网页模板</span>
                </div>
                <div class="panel-body" id="websiteTemplate"></div>
            </div>

            <!--敏感词管理-->
            <div ng-show="selectMenuItem == 'sensitiveWords'">
                <div style="margin: 10px;">
                    <form class="form-inline" class="pull-right">
                        <div class="searchbar pull-right" style="position: relative;">
                            <label>搜索敏感词：</label>
                            <input type="text" class="form-control" placeholder="搜索敏感词" ng-model="sensitiveWordsQueryStr" ng-model-options="{debounce: 300}">
                            <span class="glyphicon glyphicon-search" style="position:absolute; top:10px; right:25px;"></span>
                        </div>
                    </form>
                    <form role="form" class="form-inline" name="sensitiveWordsForm" ng-submit="clickUpsert({name: sensitiveWordsNewName}, 'sensitive_words', sensitiveWordsForm, getSensitiveWords)">
                        <div class="form-group">
                            <label>
                                新增敏感词：
                            </label>
                            <input ng-model="sensitiveWordsNewName" required type="text" class="form-control" placeholder="请输入敏感词">
                        </div>
                        <button class="btn btn-default" type="submit">新增</button>
                    </form>
                </div>
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>关键词</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in sensitiveWordsListDisplayInCurrentPage" ng-hide="item.isDelete">
                            <td>{{item._id}}</td>
                            <td>{{item.name}}</td>
                            <td>
                                <button class="btn btn-default" ng-click="clickDeleteSensitiveWord(item, 'sensitive_words')">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="pagination-box">
                    <ul uib-pagination ng-change="updateSensitiveWordsView()" items-per-page='sensitiveWordsListPageSize' previous-text="{{ '上一页' | translate }}"
                        next-text="{{ '下一页' | translate }}" total-items="sensitiveWordsListTotalItems" ng-model="sensitiveWordsListPageIndex"
                        max-size="9" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>

            <!--Lessons邀请码管理-->
            <div ng-show="selectMenuItem == 'lessons'">
                <div style="margin: 10px;">
                    <form class="form-inline" class="pull-right">
                        <div class="searchbar pull-right" style="position: relative;">
                            <button class="btn btn-default" ng-click="clickGenInvitationCodes()">批量生成</button>
                        </div>
                    </form>
                </div>
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>序号</th>
                            <th>激活码</th>
                            <th>生成日期</th>
                            <th>使用状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="code in invitationCodes" ng-hide="code.isDelete">
                            <td>{{code.sn}}</td>
                            <td>{{code.key}}</td>
                            <td>{{code.createTime}}</td>
                            <td>{{invitationCodeStatus[code.state]}}</td>
                        </tr>
                    </tbody>
                </table>
                <div class="invitationCodes-pagination-box">
                    <div class="totalFiles">
                        <span>共 {{ totalInvitationCodes }} 条记录</span>
                    </div>
                    <ul uib-pagination ng-change="getInvitationCodes()" items-per-page='InvitationCodesPageSize' previous-text="{{ '上一页' | translate }}"
                        next-text="{{ '下一页' | translate }}" total-items="totalInvitationCodes" ng-model="currentInvitationCodesPage"
                        max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>

            <div class="modal invitationCodesModal" id="invitationCodesModal" tabindex="-1" role="dialog" aria-hidden="true" keyboard="true">
                <div class="modal-dialog">
                    <div class="modal-content" style="width:200%;margin-top:30%;margin-left:-50%;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                            <h4 class="modal-title">请输入需生成的激活码数：</h4>
                        </div>
                        <div class="modal-body">
                            <p class="form-group">
                                <input type="text" ng-model='newInvitationCodesAmount'>
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default" ng-csv="generateInvitationCodes()" filename="{{ csvFilename }}" ng-click="clickFn()">确定</button>
                            <button class="btn btn-primary" data-dismiss="modal">关闭</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--wikicmd-->
            <div ng-show='selectMenuItem=="wikicmd"'>
                <!-- <div class="btn btn-danger" ng-click="insertAll()">从js上传mods</div> -->
                <div style="margin: 10px;">
                    <form role="form" class="form-horizontal">
                        <!-- <div class="form-group">
                            <label class="col-sm-2 control-label">ID:</label>
                            <div class="col-sm-10">
                                <input ng-model="wikiQuery._id" type="text" class="form-control" placeholder="ID(添加勿填)">
                            </div>
                        </div> -->
                        <div class="form-group">
                            <label class="col-sm-2 control-label">名称:</label>
                            <div class="col-sm-10">
                                <input ng-model="wikiQuery.name" type="text" class="form-control" placeholder="名称">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">分类:</label>
                            <div class="col-sm-10">
                                <input ng-model="wikiQuery.classifyName" type="text" class="form-control" placeholder="分类">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">命令名:</label>
                            <div class="col-sm-10">
                                <input ng-model="wikiQuery.wikiCmdName" type="text" class="form-control" placeholder="命令名">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">LogoUrl:</label>
                            <div class="col-sm-10">
                                <input ng-model="wikiQuery.logoUrl" type="text" class="form-control" placeholder="图标">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">备注:</label>
                            <div class="col-sm-10">
                                <input ng-model="wikiQuery.desc" type="text" class="form-control" placeholder="备注">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">内容:</label>
                            <div class="col-sm-10">
                                <textarea ng-model="wikiQuery.content" class="form-control" rows=10 placeholder="wiki命令内容"></textarea>
                            </div>
                        </div>
                        <div class="col-sm-offset-2">
                            <button class="btn btn-default" ng-click="clickUpsertWikicmd()">更新</button>
                            <!-- <button class="btn btn-default" ng-click="clickQuery()">查询</button> -->
                        </div>
                    </form>
                </div>
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>名称</th>
                            <th>分类名</th>
                            <th>命令名</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="x in wikiData">
                            <td>{{x._id}}</td>
                            <td>{{x.name}}</td>
                            <td>{{x.classifyName}}</td>
                            <td>{{x.wikiCmdName}}</td>
                            <td>
                                <button class="btn btn-default" ng-click="clickEditMod(x)">编辑</button>
                                <button class="btn btn-default" ng-click="clickDeleteMod(x)">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="pagination-box">
                    <ul uib-pagination ng-change="queryWikiModule()" items-per-page='wikiPageSize' previous-text="{{ '上一页' | translate }}" next-text="{{ '下一页' | translate }}"
                        total-items="wikicmdTotalItems" ng-model="wikiCurrentPage" max-size="5" class="pagination-sm" boundary-link-numbers="true">
                    </ul>
                </div>
            </div>

        </div>
    </div>
</div>